{
  "meta": {
    "project": "LangPlug German Language Learning Platform",
    "date": "2025-09-13",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "LangPlug is an immersive German language learning platform combining Netflix-style video streaming with intelligent subtitle filtering, vocabulary tracking, and interactive vocabulary training. It provides users a seamless experience from authentication to vocabulary mastery through video content enriched with AI-powered transcription, translation, and learning analytics.",
  "core_goals": [
    "Provide seamless user authentication and profile management to personalize learning experiences.",
    "Deliver an intuitive Netflix-style UI for browsing and streaming German video content with subtitle support.",
    "Enable asynchronous video processing for transcription, subtitle filtering, and translation to optimize language learning.",
    "Offer interactive vocabulary learning tools with word difficulty filtering, progress tracking, and CEFR-level categorization.",
    "Track user learning progress comprehensively with analytics and feedback mechanisms.",
    "Ensure responsive, accessible, and secure frontend experience across devices and browsers.",
    "Support robust backend services for video storage, processing pipelines, user data management, and API responsiveness."
  ],
  "key_features": [
    "Complete Authentication System with login, registration, JWT token management, and session persistence.",
    "Netflix-style video browsing UI with series and episode selection using responsive grids and search capabilities.",
    "Custom video player featuring playback controls, subtitle display, 5-minute segment navigation, and vocabulary word highlighting.",
    "Asynchronous video processing pipeline including transcription (Whisper), subtitle filtering based on user vocabulary, and German-English translation (NLLB).",
    "Interactive vocabulary training with Tinder-style swiping game, vocabulary library with CEFR-based filtering, and bulk known/unknown word marking.",
    "User profile and settings management with ability to view and update personal data and learning preferences.",
    "Real-time processing progress visualization and error handling with notifications and retry mechanisms.",
    "Dark/light theme support and responsive design with styled components and Framer Motion animations.",
    "Comprehensive error handling with toast notifications, API logging, and recovery options."
  ],
  "user_flow_summary": [
    "User Onboarding: User visits login or registration page, creates account or authenticates, and is redirected to dashboard.",
    "Content Discovery: User browses video series in a responsive grid, selects a series, then picks an episode to watch and learn.",
    "Vocabulary Preparation: User plays the vocabulary swiping game to mark words as known or unknown, then reviews their vocabulary library filtered by difficulty level.",
    "Video Learning: User watches video in 5-minute segments with synchronized subtitles where unknown words are highlighted, followed by vocabulary review for segment mastery.",
    "Progress Tracking: User views comprehensive vocabulary statistics, CEFR level advancements, and learning progress dashboards.",
    "Profile Management: User accesses and updates profile and settings, managing preferences and personal data.",
    "Processing Pipeline Monitoring: User views real-time task progress for transcription, filtering, translation, and chunking with status feedback and error recovery."
  ],
  "validation_criteria": [
    "User can successfully register, login, logout, and maintain authenticated sessions with JWT tokens.",
    "Video browsing interface loads within 3 seconds and allows selection of series and episodes with responsive UI.",
    "Video player loads and plays videos with subtitle display and allows navigation by 5-minute segments.",
    "Video processing pipeline completes transcription, filtering, and translation asynchronously with progress updates visible to users.",
    "Vocabulary training components allow accurate marking of known/unknown words and reflect changes in user vocabulary stats.",
    "User profile data can be fetched and updated correctly with appropriate API calls.",
    "UI components render correctly across supported devices and browsers with accessibility standards met.",
    "Error states trigger appropriate notifications and allow smooth recovery without user data loss.",
    "API response times for key endpoints meet performance benchmarks under concurrent usage.",
    "Logging captures error and operational events with no loss of critical information for debugging."
  ],
  "code_summary": {
    "tech_stacks": [
      "React 18.3.1",
      "TypeScript",
      "Vite (build tool)",
      "Zustand (state management)",
      "React Router DOM (routing)",
      "Styled Components (CSS-in-JS)",
      "Framer Motion (animations)",
      "Axios (HTTP client)",
      "React Hot Toast (notifications)",
      "React Hook Form (form handling)",
      "Vitest (testing framework)",
      "React Testing Library",
      "ESLint + Prettier (code quality)"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "Complete authentication system with login, registration, and session management",
        "components": [
          "LoginForm",
          "useAuthStore",
          "ProtectedRoute"
        ],
        "api_endpoints": [
          {
            "method": "POST",
            "path": "/api/auth/login",
            "description": "User login with username/password",
            "request_body": {
              "username": "string",
              "password": "string"
            },
            "response": {
              "token": "string",
              "user": "User object",
              "expires_at": "string"
            }
          },
          {
            "method": "POST",
            "path": "/api/auth/register",
            "description": "User registration",
            "request_body": {
              "username": "string",
              "password": "string"
            },
            "response": {
              "user": "User object"
            }
          },
          {
            "method": "POST",
            "path": "/api/auth/logout",
            "description": "User logout"
          },
          {
            "method": "GET",
            "path": "/api/auth/me",
            "description": "Get current user info"
          }
        ]
      },
      {
        "name": "Video Management",
        "description": "Video upload, streaming, and episode management system",
        "components": [
          "EpisodeSelection",
          "VideoPlayer"
        ],
        "api_endpoints": [
          {
            "method": "GET",
            "path": "/api/videos",
            "description": "Get list of available videos",
            "response": {
              "videos": "VideoInfo[]"
            }
          },
          {
            "method": "GET",
            "path": "/api/videos/stream/{series}/{episode}",
            "description": "Stream video content"
          },
          {
            "method": "POST",
            "path": "/api/videos/upload",
            "description": "Upload new video",
            "request_body": {
              "series": "string",
              "video_file": "File"
            }
          }
        ]
      },
      {
        "name": "Video Processing Pipeline",
        "description": "Asynchronous video processing with subtitle extraction and translation",
        "components": [
          "PipelineProgress",
          "useTaskProgress"
        ],
        "api_endpoints": [
          {
            "method": "POST",
            "path": "/api/videos/prepare",
            "description": "Prepare episode for processing",
            "request_body": {
              "video_path": "string"
            },
            "response": {
              "task_id": "string",
              "status": "string"
            }
          },
          {
            "method": "POST",
            "path": "/api/videos/filter-subtitles",
            "description": "Filter subtitles from video",
            "request_body": {
              "video_path": "string"
            }
          },
          {
            "method": "POST",
            "path": "/api/videos/translate",
            "description": "Translate subtitles",
            "request_body": {
              "video_path": "string",
              "source_lang": "string",
              "target_lang": "string"
            }
          },
          {
            "method": "GET",
            "path": "/api/tasks/{task_id}/progress",
            "description": "Get task processing progress",
            "response": {
              "status": "processing|completed|error",
              "progress": "number",
              "current_step": "string",
              "message": "string"
            }
          },
          {
            "method": "POST",
            "path": "/api/videos/process-chunk",
            "description": "Process video chunk",
            "request_body": {
              "video_path": "string",
              "start_time": "number",
              "end_time": "number"
            }
          }
        ]
      },
      {
        "name": "Vocabulary Learning System",
        "description": "Interactive vocabulary learning with difficulty levels and progress tracking",
        "components": [
          "VocabularyLibrary",
          "ChunkedLearningFlow"
        ],
        "api_endpoints": [
          {
            "method": "GET",
            "path": "/api/vocabulary/blocking-words",
            "description": "Get blocking words for video segment",
            "query_params": {
              "video_path": "string",
              "segment_start": "number",
              "segment_duration": "number"
            },
            "response": {
              "words": "VocabularyWord[]"
            }
          },
          {
            "method": "POST",
            "path": "/api/vocabulary/mark-known",
            "description": "Mark word as known/unknown",
            "request_body": {
              "word": "string",
              "known": "boolean"
            }
          },
          {
            "method": "POST",
            "path": "/api/vocabulary/preload",
            "description": "Preload vocabulary database",
            "response": {
              "success": "boolean",
              "message": "string",
              "levels": "Record<string, number>"
            }
          },
          {
            "method": "GET",
            "path": "/api/vocabulary/level/{level}",
            "description": "Get vocabulary words by difficulty level",
            "response": {
              "level": "string",
              "words": "VocabularyLibraryWord[]",
              "total_count": "number",
              "known_count": "number"
            }
          },
          {
            "method": "POST",
            "path": "/api/vocabulary/bulk-mark/{level}",
            "description": "Bulk mark words in level as known/unknown",
            "request_body": {
              "known": "boolean"
            }
          },
          {
            "method": "GET",
            "path": "/api/vocabulary/stats",
            "description": "Get vocabulary learning statistics",
            "response": {
              "levels": "Record<string, {total_words: number, user_known: number}>",
              "total_words": "number",
              "total_known": "number"
            }
          }
        ]
      },
      {
        "name": "User Profile Management",
        "description": "User profile and settings management",
        "components": [
          "ProfileScreen"
        ],
        "api_endpoints": [
          {
            "method": "GET",
            "path": "/api/profile",
            "description": "Get user profile information"
          },
          {
            "method": "PUT",
            "path": "/api/profile",
            "description": "Update user profile"
          },
          {
            "method": "GET",
            "path": "/api/profile/settings",
            "description": "Get user settings"
          },
          {
            "method": "PUT",
            "path": "/api/profile/settings",
            "description": "Update user settings"
          }
        ]
      },
      {
        "name": "Theme System",
        "description": "Dark/light theme support with context management",
        "components": [
          "ThemeContext",
          "GlobalStyles"
        ]
      },
      {
        "name": "Responsive UI Components",
        "description": "Netflix-style responsive UI with animations and styled components",
        "components": [
          "Input",
          "NetflixButton",
          "Card",
          "Grid",
          "Container"
        ]
      },
      {
        "name": "Error Handling & Logging",
        "description": "Comprehensive error handling with toast notifications and API logging",
        "components": [
          "logger",
          "handleApiError"
        ]
      }
    ]
  }
}
